{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">

  <title>ProCoder |  Email Utility</title>
  {% include 'tutorial/base/headerlink.html' %}
</head>
<body class="hold-transition sidebar-mini layout-fixed sidebar-collapse">
<div class="wrapper">
 {% include 'tutorial/base/sidebar.html' %}
  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0 text-dark">Email Utility</h1>
          </div> 
          <div class="col-sm-6">
            <ol class="breadcrumb float-sm-right">
              <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
              <li class="breadcrumb-item">Email Utility</li>
            </ol>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->
 
    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">


  
      

          {% if users %}
            <div class="row">

          {% if have_email %}
             <div class="col-md-6">
            <!-- PRODUCT LIST -->
            <div class="card card-success">
              <div class="card-header">
                <h3 class="card-title">Information Sent Users</h3>

                <div class="card-tools">
                   <span class="badge badge-light">{{total_have_email}} Users</span>
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                    <i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
              <!-- /.card-header -->
              <div class="card-body p-0">
                <ul class="products-list product-list-in-card pl-2 pr-2">
                  {% for i, time in have_email_zip_data %}
                  <li class="item">
                    <div class="product-img">
                      <img src="{{i.pic.url}}" alt="User Image" class="img-size-50">
                    </div>
                    <div class="product-info">
                      <a href=""  data-toggle="modal" data-target="#bd-example-modal-xlsend{{i.id}}" class="product-title" >@{{i.user.username}} <span class="badge badge-warning float-right">{{time}}</span>
                      </a>
                      <div class="row">
                        <div class="modal fade bd-example-modal-xl" id="bd-example-modal-xlsend{{i.id}}" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel"   aria-hidden="true">
                          <div class="modal-dialog modal-xl">
                            <!-- Widget: user widget style 2 -->
                            <div class="card card-widget widget-user-2">
                              <!-- Add the bg color to the header using any of the bg-* classes -->
                              <div class="widget-user-header bg-info">
                                <div class="widget-user-image">
                                  <img class="img-circle elevation-2" src="{{i.pic.url}}" alt="User Avatar">
                                </div>
                                <!-- /.widget-user-image -->
                                <h3 class="widget-user-username">{{i.user.username}}</h3>
                                <h6 class="widget-user-desc">Skill :<i>{% for skill in i.skill.all %}&nbsp;<span class="badge badge-light">{{skill.skill}}</span>&nbsp;{% endfor %}</i>
                                </h6>
                                <p class="text-right">
                                  {{i.rating}}
                                </p>
                              </div>
                              <div class="modal-content">
                                <div class="model-body"><br>
                                  <div class="card-footer p-0">
                                    <div class="container">
                                      <div class="form-row">
                                        <div class="form-group col-md-6">
                                          <label>Email :</label>
                                          <input type="email" class="form-control" value="{{i.email}}" readonly="" >
                                        </div>
                                        <div class="form-group col-md-6">
                                          <label>Age:</label>
                                          <input type="text" class="form-control" value="{{i.age}}" readonly="">
                                        </div>
                                      </div>
                                      <div class="form-row">
                                        <div class="form-group col-md-6">
                                          <label>Joined Date</label>
                                          <input type="text" class="form-control" value="{{i.created_date}}" readonly="">
                                          </div>
                                        <div class="form-group col-md-6 ">
                                          <label>Updated Date</label>
                                          <input type="text" class="form-control" value="{{i.modify_date}}" readonly="">
                                          </div>
                                      </div>
                                      <div class="modal-footer">
                                        <button type="button" class="btn btn-outline-success" data-dismiss="modal">Okay</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>                   
                      </div>
                      <span class="product-description">
                          {{i.email}} 
                        
                         <span class="badge badge-pill badge-success float-right">&nbsp;&nbsp;Sent&nbsp;&nbsp;</span>
                      </span>
                    </div>
                  </li>
                  {% endfor %}
                </ul>
              </div>
        
            </div>
              </div>
               {% endif %}


            {% if have_not_email %}
             <div class="col-md-6">
            <!-- PRODUCT LIST -->
            <div class="card card-danger">
              <div class="card-header">
                <h3 class="card-title">Information Not Send Users</h3>

                <div class="card-tools">
                   <span class="badge badge-light">{{total_have_not_email}} Users</span>
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                    <i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
              <!-- /.card-header -->
              <div class="card-body p-0">    
             
               
                <ul class="products-list product-list-in-card pl-2 pr-2">
                    
                 
                  {% for i,time in have_not_email_zip_data %}
                  
                  
                  <li class="item">
                    <div class="product-img">
                      <img src="{% static i.pic.url %}" alt="User Image" class="img-size-50">
                    </div>
                    <div class="product-info">
                      <a href=""  data-toggle="modal" data-target="#bd-example-modal-xlsend{{i.id}}" class="product-title" >@{{i.user.username}} <span class="badge badge-warning float-right">{{time}}</span>
                      </a>
                      <div class="row">
                        <div class="modal fade bd-example-modal-xl" id="bd-example-modal-xlsend{{i.id}}" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel"   aria-hidden="true">
                          <div class="modal-dialog modal-xl">
                            <!-- Widget: user widget style 2 -->
                            <div class="card card-widget widget-user-2">
                              <!-- Add the bg color to the header using any of the bg-* classes -->
                              <div class="widget-user-header bg-info">
                                <div class="widget-user-image">
                                  <img class="img-circle elevation-2" src="{{i.pic.url}}" alt="User Avatar">
                                </div>
                                <!-- /.widget-user-image -->
                                <h3 class="widget-user-username">{{i.user.username}}</h3>
                                <h6 class="widget-user-desc">Skill :<i>{% for skill in i.skill.all %}&nbsp;<span class="badge badge-light">{{skill.skill}}</span>&nbsp;{% endfor %}</i>
                                </h6>
                                <p class="text-right">
                                  {{i.rating}}
                                </p>
                              </div>
                              <div class="modal-content">
                                <div class="model-body"><br>
                                  <div class="card-footer p-0">
                                    <div class="container">
                                      <div class="form-row">
                                        <div class="form-group col-md-6">
                                          <label>Email :</label>
                                          <input type="email" class="form-control" value="{{i.email}}" readonly="" >
                                        </div>
                                        <div class="form-group col-md-6">
                                          <label>Age:</label>
                                          <input type="text" class="form-control" value="{{i.age}}" readonly="">
                                        </div>
                                      </div>
                                      <div class="form-row">
                                        <div class="form-group col-md-6">
                                          <label>Joined Date</label>
                                          <input type="text" class="form-control" value="{{i.created_date}}" readonly="">
                                          </div>
                                        <div class="form-group col-md-6 ">
                                          <label>Updated Date</label>
                                          <input type="text" class="form-control" value="{{i.modify_date}}" readonly="">
                                          </div>
                                      </div>
                                      <div class="modal-footer">
                                        <button type="button" class="btn btn-outline-success" data-dismiss="modal">Okay</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>                   
                      </div>
                      <span class="product-description">
                        {% if i.email %}
                            <span class="badge badge-info float-left">{{i.email}}</span>
                        {% elif not i.email %}
                             <span class="badge badge-info float-left">Sorry, Email not available.</span> 
                         {% endif %}
                         <span class="badge badge-pill badge-danger float-right">&nbsp;&nbsp;NOT Sent&nbsp;&nbsp;</span>                          
                      </span>
                    </div>
                  </li> 
                    {% endfor %}
                  
                </ul>
              </div>
            </div>
              </div>
               {% endif %}
            </div>
            {% endif %}

 

          {% if feedback %}
            <div class="row">

          {% if have_email_feedback %}
             <div class="col-md-6">
            <!-- PRODUCT LIST -->
            <div class="card card-success">
              <div class="card-header">
                <h3 class="card-title">Information Sent Users Feedbacks</h3>

                <div class="card-tools">
                   <span class="badge badge-light">{{total_have_feedback_email}} Feedback Users</span>
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                    <i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
              <!-- /.card-header -->
              <div class="card-body p-0">
                <ul class="products-list product-list-in-card pl-2 pr-2">
                  {% for i, time in have_email_feedback_zip_data %}
                  <li class="item">
                     
                    <div class="product-info">
                      <a href=""  data-toggle="modal" data-target="#bd-example-modal-xlsend{{i.id}}" class="product-title" >@{{i.email}} <span class="badge badge-warning float-right">{{time}}</span>
                      </a>
                      <div class="row">
                        <div class="modal fade bd-example-modal-xl" id="bd-example-modal-xlsend{{i.id}}" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel"   aria-hidden="true">
                          <div class="modal-dialog modal-xl">
                            <!-- Widget: user widget style 2 -->
                            <div class="card card-info">
                               <div class="card-header">
                                <h3 class="card-title">Feedback Information </h3>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true" style="color:white;">&times;</span>
                                </button>
                              </div>
                              <div class="modal-content">
                                <div class="model-body"><br>
                                  <div class="card-footer p-0">
                                    <div class="container">
                                      <div class="form-group">
                                      <label for="exampleInputEmail1">Email address</label>
                                        <input type="text"  class="form-control" value="{{i.email}}" readonly="">
                                      <small id="emailHelp" class="form-text text-muted">You should not add feedback.</small>
                                    </div>
                                     <div class="form-group">
                                  <label for="exampleFormControlTextarea1">Feedback</label>
                                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" readonly="">{{i.feedback}}</textarea>
                                    <small id="emailHelp" class="form-text text-muted">Feedback of user.</small>
                                  <!-- <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"></textarea> -->
                                </div>
                                    <div class="form-group form-check">
                                      {% if i.notify %}
                                        <input type="checkbox" class="form-check-input" id="exampleCheck1" checked="" disabled="">
                                      <label class="form-check-label" for="exampleCheck1">Notify me</label>
                                      {% else %}
                                        <input type="checkbox" class="form-check-input" id="exampleCheck1" readonly="" disabled="">
                                      <label class="form-check-label" for="exampleCheck1">Notify me</label>
                                      {% endif %}
                                      
                                    </div>
                                      <div class="modal-footer">
                                        <button type="button" class="btn btn-outline-success" data-dismiss="modal">Okay</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>                   
                      </div>
                      <span class="product-description">
                          {{i.created_date}} 
                        
                         <span class="badge badge-pill badge-success float-right">&nbsp;&nbsp;Sent&nbsp;&nbsp;</span>
                      </span>
                    </div>
                  </li>
                  {% endfor %}
                </ul>
              </div>
        
            </div>
              </div>
               {% endif %}


            {% if have_not_email_feedback %}
             <div class="col-md-6">
            <!-- PRODUCT LIST -->
            <div class="card card-danger">
              <div class="card-header">
                <h3 class="card-title">Information Not Send Users Feedbacks</h3>

                <div class="card-tools">
                   <span class="badge badge-light">{{total_have_not_feedback_email}} Feedback Users</span>
                  <button type="button" class="btn btn-tool" data-card-widget="collapse">
                    <i class="fas fa-minus"></i>
                  </button>
                  <button type="button" class="btn btn-tool" data-card-widget="remove">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
              <!-- /.card-header -->
              <div class="card-body p-0">    
             
               
                <ul class="products-list product-list-in-card pl-2 pr-2">
                    
                 
                  {% for i,time in have_not_email_feedback_zip_data %}
                  
                  
                  <li class="item">
                    
                    <div class="product-info">
                      <a href=""  data-toggle="modal" data-target="#bd-example-modal-xlsend{{i.id}}" class="product-title" >@{{i.email}} <span class="badge badge-warning float-right">{{time}}</span>
                      </a>
                      <div class="row">
                        <div class="modal fade bd-example-modal-xl" id="bd-example-modal-xlsend{{i.id}}" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel"   aria-hidden="true">
                          <div class="modal-dialog modal-xl">
                            <!-- Widget: user widget style 2 -->
                            <div class="card card-info">
                              <div class="card-header">
                                <h3 class="card-title">Feedback Information </h3>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                  <span aria-hidden="true" style="color:white;">&times;</span>
                                </button>
                              </div>
                              <div class="modal-content">
                                <div class="model-body"><br>
                                  <div class="card-footer p-0">
                                    <div class="container">
                                      <div class="form-group">
                                      <label for="exampleInputEmail1">Email address</label>
                                        <input type="text"  class="form-control" value="{{i.email}}" readonly="">
                                      <small id="emailHelp" class="form-text text-muted">You should not add feedback.</small>
                                    </div>
                                     <div class="form-group">
                                  <label for="exampleFormControlTextarea1">Feedback</label>
                                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" readonly="">{{i.feedback}}</textarea>
                                    <small id="emailHelp" class="form-text text-muted">Feedback of user.</small>
                                  
                                </div>
                                    <div class="form-group form-check">
                                      {% if i.notify %}
                                        <input type="checkbox" class="form-check-input" id="exampleCheck1" checked="" disabled="">
                                      <label class="form-check-label" for="exampleCheck1">Notify me</label>
                                      {% else %}
                                        <input type="checkbox" class="form-check-input" id="exampleCheck1" readonly="" disabled="">
                                      <label class="form-check-label" for="exampleCheck1">Notify me</label>
                                      {% endif %}
                                      
                                    </div>
                                      <div class="modal-footer">
                                        <button type="button" class="btn btn-outline-success" data-dismiss="modal">Okay</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>                   
                      </div>
                      <span class="product-description">
                        {% if i.email %}
                            <span class="badge badge-info float-left">{{i.email}}</span>
                        {% elif not i.email %}
                             <span class="badge badge-info float-left">Sorry, Email not available.</span> 
                         {% endif %}
                         <span class="badge badge-pill badge-danger float-right">&nbsp;&nbsp;NOT Sent&nbsp;&nbsp;</span>                          
                      </span>
                    </div>
                  </li> 
                    {% endfor %}
                  
                </ul>
              </div>
            </div>
              </div>
               {% endif %}
            </div>
            {% endif %}

 



{% if user %}

<div class="card card-primary">
  <div class="card-header">
    <h3 class="card-title">All Users Information</h3>

    <div class="card-tools">
       <span class="badge badge-light">{{users_all.count}} Users</span>
      <button type="button" class="btn btn-tool" data-card-widget="collapse">
        <i class="fas fa-minus"></i>
      </button>
      <button type="button" class="btn btn-tool" data-card-widget="remove">
        <i class="fas fa-times"></i>
      </button>
    </div>
  </div>
  <!-- /.card-header -->
  <div class="card-body p-0">
  

    <div class="container">

            <div class="row">
          <div class="col-md-12">
 <br><br>
<br>

<div class="row justify-content-md-center">
    <div class="col col-lg-5">
         <button type="button" class="btn btn-primary btn-lg btn-block" data-toggle="modal" data-target=".bd-example-modal-xlcomposeemail" >Compose Email</button><br>
    </div>
</div>


<div class="modal fade bd-example-modal-xlcomposeemail" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel"   aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="card card-primary">
            <div class="card-header">
                <h3 class="card-title">Create an awesome email and sent </h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true" style="color:white;">&times;</span></button>
            </div>
            <div class="modal-content">
                <div class="model-body">     
                    <div class="container"><br>
                        <form class="form-horizontal" action="{% url 'tutorial:email' %}" method="POST">{% csrf_token %}
                             <div class="form-group">
                                    <input class="form-control" placeholder="To: All User"  readonly="">
                                  </div>
                                  <div class="form-group">
                                    <input class="form-control" name="subject_data" placeholder="Subject:">
                                  </div>
                                  <div class="custom-control custom-checkbox mr-sm-2">
                                <input type="checkbox" class="custom-control-input" id="customControlAutosizing" name="feedbackuser" value="True">
                                <label class="custom-control-label" for="customControlAutosizing">
                                All Connected Users</label>
                              </div>
                              <br>
                              <br>
                                  <div class="form-group">
                                      <textarea id="compose-textarea" name="email_data" class="form-control" style="height: 300px">
                                        <h1><u>Heading Of Message</u></h1>
                                        <h4>Subheading</h4>
                                        <p>But I must explain to you how all this mistaken idea of denouncing pleasure and praising pain
                                          was born and I will give you a complete account of the system, and expound the actual teachings
                                          of the great explorer of the truth, the master-builder of human happiness. No one rejects,
                                          dislikes, or avoids pleasure itself, because it is pleasure, but because those who do not know
                                          how to pursue pleasure rationally encounter consequences that are extremely painful. Nor again
                                          is there anyone who loves or pursues or desires to obtain pain of itself, because it is pain,
                                          but because occasionally circumstances occur in which toil and pain can procure him some great
                                          pleasure. To take a trivial example, which of us ever undertakes laborious physical exercise,
                                          except to obtain some advantage from it? But who has any right to find fault with a man who
                                          chooses to enjoy a pleasure that has no annoying consequences, or one who avoids a pain that
                                          produces no resultant pleasure? On the other hand, we denounce with righteous indignation and
                                          dislike men who are so beguiled and demoralized by the charms of pleasure of the moment, so
                                          blinded by desire, that they cannot foresee</p>
                                        <ul>
                                          <li>List item one</li>
                                          <li>List item two</li>
                                          <li>List item three</li>
                                          <li>List item four</li>
                                        </ul>
                                        <p>Thank you,</p>
                                        <p>John Doe</p>
                                      </textarea>
                                  </div>
                                <!--   <div class="form-group">
                                    <div class="btn btn-default btn-file">
                                      <i class="fas fa-paperclip"></i> Attachment
                                      <input type="file" name="attachment">
                                    </div>
                                    <p class="help-block">Max. 32MB</p>
                                  </div> -->                           
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                <button type="submit" class="btn btn-primary">Send Email Now,</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<table id="example1" class="table table-bordered table-striped table-hover" >
<thead style="text-align: center;">
  <tr>
    <th scope="col">#</th>
    <th scope="col">User Name</th>
    <th scope="col">Email</th>
    <th scope="col">Joined&nbsp;Date</th>
    <th scope="col">Updated&nbsp;Date</th>
  </tr>     
</thead>
<tbody>
  {% for i in users_all  %}
  <tr>
    <td>{{forloop.counter}}</td>
     <td><a href=""  data-toggle="modal" data-target="#bd-example-modal-xl{{i.id}}">@{{i.user.username}}</a>
                      <div class="row">
                        <div class="modal fade bd-example-modal-xl" id="bd-example-modal-xl{{i.id}}" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel"   aria-hidden="true">
                          <div class="modal-dialog modal-xl">
                            <!-- Widget: user widget style 2 -->
                            <div class="card card-widget widget-user-2">
                              <!-- Add the bg color to the header using any of the bg-* classes -->
                              <div class="widget-user-header bg-info">
                                <div class="widget-user-image">
                                  <img class="img-circle elevation-2" src="{{i.pic.url}}" alt="User Avatar">
                                </div>
                                <!-- /.widget-user-image -->
                                <h3 class="widget-user-username">{{i.user.username}}</h3>
                                
                              </div>
                              <div class="modal-content">
                                <div class="model-body"><br>
                                  <div class="card-footer p-0">
                                    <div class="container">
                                      <div class="form-row">
                                        <div class="form-group col-md-6">
                                          <label>Email :</label>
                                          <input type="email" class="form-control" value="{{i.email}}" readonly="" >
                                        </div>
                                        <div class="form-group col-md-6">
                                          <label>Age:</label>
                                          <input type="text" class="form-control" value="{{i.age}}" readonly="">
                                        </div>
                                      </div>
                                      <div class="form-row">
                                        <div class="form-group col-md-6">
                                          <label>Joined Date</label>
                                          <input type="text" class="form-control" value="{{i.created_date}}" readonly="">
                                          </div>
                                        <div class="form-group col-md-6 ">
                                          <label>Updated Date</label>
                                          <input type="text" class="form-control" value="{{i.modify_date}}" readonly="">
                                          </div>
                                      </div>
                                      <div class="modal-footer">
                                        <button type="button" class="btn btn-outline-success" data-dismiss="modal">Okay</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>                   
                      </div>
                    </td>
    <td>{% if i.email %}
          {{i.email}}
        {% else %}
          <span class="badge badge-danger" style="text-align: center;">Not Avalible.</span>
        {% endif %}
    </td>
    <td>{{i.created_date}}</td>
    <td>{{i.modify_date}}</td>
  </tr>
  {% endfor %}
</tbody>
</table>
{% else %}
  <h6 style="text-align: center;">Sorry, record not exist yet.<span class="badge badge-primary">Click to create new record !</span></h6>
 
         
          </div>
       
        </div>
  </div>

  </div>
   <div class="card-footer text-center">
    <b>Note : All users informations.</b> 
  </div>
</div>
 {% endif %}



















    



 
             


        
      </div><!--/. container-fluid -->
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!-- Control Sidebar -->




{% include 'tutorial/base/footer.html' %}
{% include 'tutorial/base/footerlink.html' %}